<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Wireguard on sujingjhong.com</title><link>https://sujingjhong.com/tags/wireguard/</link><description>Recent content in Wireguard on sujingjhong.com</description><generator>Hugo</generator><language>zh-tw</language><lastBuildDate>Thu, 30 May 2024 13:31:58 +0000</lastBuildDate><atom:link href="https://sujingjhong.com/tags/wireguard/atom.xml" rel="self" type="application/rss+xml"/><item><title>Linux / WireGuard note on Linux Debian 10 in 2021</title><link>https://sujingjhong.com/posts/wireguard-note-on-linux-debian-10-in-2021/</link><pubDate>Fri, 28 May 2021 02:02:00 +0800</pubDate><guid>https://sujingjhong.com/posts/wireguard-note-on-linux-debian-10-in-2021/</guid><description>WireGuard note on Linux Debian 10 in 2021 # Linux version: Debian 10
VPN Server # First, create a vm on cloud:
Run:
# admin sudo su # install wireguard apt-get install wireguard # set folder and set umask cd /etc/wireguard umask 002 # generate private and public key wg genkey | tee privkey | wg pubkey &amp;gt; pubkey # create config file touch /etc/wireguard/wg0.conf Create /etc/wireguard/wg0.conf:
[Interface] Address = &amp;lt;VPN_SREVER_IP&amp;gt; ListenPort = &amp;lt;VPN_SREVER_PORT&amp;gt; PrivateKey = &amp;lt;VPN_SERVER_PRIVATE_KEY&amp;gt; # substitute eth0 in the following lines to match the Internet-facing interface # if the server is behind a router and receives traffic via NAT, these iptables rules are not needed PostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -A FORWARD -o %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth4 -j MASQUERADE PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -D FORWARD -o %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth4 -j MASQUERADE Enable following settings on /etc/sysctl.</description></item></channel></rss>