<!doctype html><html lang=zh-tw><head><meta name=generator content="Hugo 0.83.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="同學問到要怎麼使用 python 繪製世界地圖，並且呈現相關資料，就稍微研究了一下 主要使用： altair: 繪製套件，可以製作可互動的圖表，好用 pycountry: 用來查詢國家的相關資料"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Python / 如何使用 python 繪製世界地圖"><meta property="og:description" content="同學問到要怎麼使用 python 繪製世界地圖，並且呈現相關資料，就稍微研究了一下 主要使用： altair: 繪製套件，可以製作可互動的圖表，好用 pycountry: 用來查詢國家的相關資料"><meta property="og:type" content="article"><meta property="og:url" content="https://sujingjhong.com/posts/how-to-draw-world-map-by-python/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-10T13:58:40+00:00"><meta property="article:modified_time" content="2021-01-10T13:58:40+00:00"><title>Python / 如何使用 python 繪製世界地圖 | sujj blog</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.762397d706992291f181379ac766397478a7d47c3ab92bc49aed2c3196671e76.css integrity="sha256-diOX1waZIpHxgTeax2Y5dHin1Hw6uSvEmu0sMZZnHnY="><script defer src=/zh-tw.search.min.6ce7cd0dd5a555864332c3d7bff346e2ee74a65793e5a7c3bea9041b6bbea677.js integrity="sha256-bOfNDdWlVYZDMsPXv/NG4u50pleT5afDvqkEG2u+pnc="></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-139857297-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=canonical href=https://sujingjhong.com/posts/how-to-draw-world-map-by-python/><link rel=index href=https://sujingjhong.composts><link rel=home href=https://sujingjhong.com><link rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><link rel=preload href=https://cdn.commento.io/js/commento.js as=script><script defer src=https://cdn.commento.io/js/commento.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/prism-themes@1.4.0/themes/prism-ghcolors.css crossorigin=anonymous media=none onload="media!='all'&&(media='all')"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/line-numbers/prism-line-numbers.css crossorigin=anonymous onload="media!='all'&&(media='all')"><script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.0.0/dist/mermaid.min.js crossorigin=anonymous onload=mermaid.initialize({startOnLoad:!0})></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-core.min.js crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js crossorigin=anonymous onload="Prism.plugins.autoloader.languages_path='https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/'"></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/line-numbers/prism-line-numbers.min.js crossorigin=anonymous onload="document.querySelectorAll('pre>code').forEach(function(a){a.classList.add('line-numbers')})"></script><script type=application/ld+json>[{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python / 如何使用 python 繪製世界地圖","image":"https://sujingjhong.com","datePublished":"2021-01-10T13:58:40Z","dateModified":"2021-01-10T13:58:40Z","author":{"@type":"Person","name":"Su Jing Jhong"},"mainEntityOfPage":{"@type":"WebPage"},"publisher":{"@type":"Organization","name":"lisez","logo":{"@type":"ImageObject","url":null}},"description":"同學問到要怎麼使用 python 繪製世界地圖，並且呈現相關資料，就稍微研究了一下 主要使用： altair: 繪製套件，可以製作可互動的圖表，好用 pycountry: 用來查詢國家的相關資料","keywords":["python","視覺化","worldmap","世界地圖"]},{"@context":"https://schema.org","@type":"Organization","name":"lisez","url":"https://sujingjhong.com","sameAs":["https://www.npmjs.com/~lisez","https://www.linkedin.com/in/jing-jhong-su/","https://github.com/lisez","https://medium.com/@sujj","https://vocus.cc/flyingwhale/","https://vocus.cc/loghowisurvived/"]}]</script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>sujj blog</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/about/>關於我</a></li><li><a href=/search/>站內搜尋</a></li><li><a href=/posts/>文章清單</a></li><li><a href=/posts/elixir101/>Elixir101</a></li><li><a href=/posts/eng-class/>英文筆記</a></li><li><a href=/posts/foreignpolicy/>外交政策</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Python / 如何使用 python 繪製世界地圖</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1>Python / 如何使用 python 繪製世界地圖</h1><section><h5>January 10, 2021</h5><ul class=tags><li class="mark-block tag-block"><a href=https://sujingjhong.com/tags/python/>python</a></li><li class="mark-block tag-block"><a href=https://sujingjhong.com/tags/%E8%A6%96%E8%A6%BA%E5%8C%96/>視覺化</a></li><li class="mark-block tag-block"><a href=https://sujingjhong.com/tags/worldmap/>worldmap</a></li><li class="mark-block tag-block"><a href=https://sujingjhong.com/tags/%E4%B8%96%E7%95%8C%E5%9C%B0%E5%9C%96/>世界地圖</a></li></ul></section><section class=content><p>同學問到要怎麼使用 python 繪製世界地圖，並且呈現相關資料，就稍微研究了一下</p><p>主要使用：</p><ul><li>altair: 繪製套件，可以製作可互動的圖表，好用</li><li>pycountry: 用來查詢國家的相關資料</li></ul><p>使用的資料 winemag-data_first150k 是來自 kaggle</p><pre><code class=language-python>import pandas as pd
import numpy as np
import pycountry
def find_code_by_name(x):
    data = pycountry.countries.get(name=x) or pycountry.countries.get(official_name=x) or pycountry.countries.get(alpha_2=x)
    return int(data.numeric) if data is not None else np.nan

df = pd.read_csv('./winemag-data_first150k.csv')

df2 = df[['country', 'points']].groupby(by='country').mean().reset_index()
df2['id'] = df2.country.apply(find_code_by_name)
df2.head(10)
</code></pre><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>country</th><th>points</th><th>id</th></tr></thead><tbody><tr><th>0</th><td>Albania</td><td>88.000000</td><td>8.0</td></tr><tr><th>1</th><td>Argentina</td><td>85.996093</td><td>32.0</td></tr><tr><th>2</th><td>Australia</td><td>87.892475</td><td>36.0</td></tr><tr><th>3</th><td>Austria</td><td>89.276742</td><td>40.0</td></tr><tr><th>4</th><td>Bosnia and Herzegovina</td><td>84.750000</td><td>70.0</td></tr><tr><th>5</th><td>Brazil</td><td>83.240000</td><td>76.0</td></tr><tr><th>6</th><td>Bulgaria</td><td>85.467532</td><td>100.0</td></tr><tr><th>7</th><td>Canada</td><td>88.239796</td><td>124.0</td></tr><tr><th>8</th><td>Chile</td><td>86.296768</td><td>152.0</td></tr><tr><th>9</th><td>China</td><td>82.000000</td><td>156.0</td></tr></tbody></table></div><pre><code class=language-python>import altair as alt
from vega_datasets import data

countries = alt.topo_feature(data.world_110m.url, 'countries')

base = alt.Chart(countries).mark_geoshape(fill='#666666',stroke='white')
points = alt.Chart(countries).mark_geoshape().encode(color='points:Q', tooltip=['country:N','points:Q']).transform_lookup(lookup='id', from_=alt.LookupData(df2, key='id', fields=['country','points']))

layers = alt.layer(base, points).project('equirectangular').properties(width=600, height=400).configure_view(stroke=None)
layers
</code></pre><div id=altair-viz-4f507e50d3854f9ca34c607132ca2480></div><script type=text/javascript>(function(g,f){let a=document.currentScript.previousElementSibling;a.id!=="altair-viz-4f507e50d3854f9ca34c607132ca2480"&&(a=document.getElementById("altair-viz-4f507e50d3854f9ca34c607132ca2480"));const b={vega:"https://cdn.jsdelivr.net/npm//vega@5?noext","vega-lib":"https://cdn.jsdelivr.net/npm//vega-lib?noext","vega-lite":"https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext","vega-embed":"https://cdn.jsdelivr.net/npm//vega-embed@6?noext"};function d(a){return new Promise(function(d,e){var c=document.createElement('script');c.src=b[a],c.async=!0,c.onload=()=>d(b[a]),c.onerror=()=>e(`Error loading script: ${b[a]}`),document.getElementsByTagName("head")[0].appendChild(c)})}function e(b){throw a.innerHTML=`<div class="error" style="color:red;">${b}</div>`,b}function c(b){b(a,g,f).catch(a=>e(`Javascript Error: ${a.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`))}typeof define=="function"&&define.amd?(requirejs.config({paths:b}),require(["vega-embed"],c,a=>e(`Error loading script: ${a.message}`))):typeof vegaEmbed=="function"?c(vegaEmbed):d("vega").then(()=>d("vega-lite")).then(()=>d("vega-embed")).catch(e).then(()=>c(vegaEmbed))})({config:{view:{continuousWidth:400,continuousHeight:300,stroke:null}},layer:[{mark:{type:"geoshape",fill:"#666666",stroke:"white"}},{mark:"geoshape",encoding:{color:{type:"quantitative",field:"points"},tooltip:[{type:"nominal",field:"country"},{type:"quantitative",field:"points"}]},transform:[{lookup:"id",from:{data:{name:"data-59af1829771cc6a49ea4955e475820f8"},key:"id",fields:["country","points"]}}]}],data:{url:"https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/world-110m.json",format:{feature:"countries",type:"topojson"}},height:400,projection:{type:"equirectangular"},width:600,$schema:"https://vega.github.io/schema/vega-lite/v4.8.1.json",datasets:{"data-59af1829771cc6a49ea4955e475820f8":[{country:"Albania",points:88,id:8},{country:"Argentina",points:85.9960930562955,id:32},{country:"Australia",points:87.89247528747227,id:36},{country:"Austria",points:89.27674190382729,id:40},{country:"Bosnia and Herzegovina",points:84.75,id:70},{country:"Brazil",points:83.24,id:76},{country:"Bulgaria",points:85.46753246753246,id:100},{country:"Canada",points:88.23979591836735,id:124},{country:"Chile",points:86.29676753782668,id:152},{country:"China",points:82,id:156},{country:"Croatia",points:86.28089887640449,id:191},{country:"Cyprus",points:85.87096774193549,id:196},{country:"Czech Republic",points:85.83333333333333,id:203},{country:"Egypt",points:83.66666666666667,id:818},{country:"England",points:92.88888888888889,id:null},{country:"France",points:88.92586975068727,id:250},{country:"Georgia",points:85.51162790697674,id:268},{country:"Germany",points:88.62642740619903,id:276},{country:"Greece",points:86.11764705882354,id:300},{country:"Hungary",points:87.32900432900433,id:348},{country:"India",points:87.625,id:356},{country:"Israel",points:87.17619047619047,id:376},{country:"Italy",points:88.41366385552432,id:380},{country:"Japan",points:85,id:392},{country:"Lebanon",points:85.70270270270271,id:422},{country:"Lithuania",points:84.25,id:440},{country:"Luxembourg",points:87,id:442},{country:"Macedonia",points:84.8125,id:null},{country:"Mexico",points:84.76190476190476,id:484},{country:"Moldova",points:84.71830985915493,id:null},{country:"Montenegro",points:82,id:499},{country:"Morocco",points:88.16666666666667,id:504},{country:"New Zealand",points:87.55421686746988,id:554},{country:"Portugal",points:88.05768508079669,id:620},{country:"Romania",points:84.92086330935251,id:642},{country:"Serbia",points:87.71428571428571,id:688},{country:"Slovakia",points:83.66666666666667,id:703},{country:"Slovenia",points:88.23404255319149,id:705},{country:"South Africa",points:87.22542072630647,id:710},{country:"South Korea",points:81.5,id:null},{country:"Spain",points:86.64658925979681,id:724},{country:"Switzerland",points:87.25,id:756},{country:"Tunisia",points:86,id:788},{country:"Turkey",points:88.09615384615384,id:792},{country:"US",points:87.81878936487331,id:840},{country:"US-France",points:88,id:null},{country:"Ukraine",points:84.6,id:804},{country:"Uruguay",points:84.47826086956522,id:858}]}},{mode:"vega-lite"})</script></section></article><section><h2>給我讚！</h2><iframe data-v-456d30bd scrolling=no src="https://button.like.co/in/embed/lisez0618/button?type=wp&referrer=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f" class="lc-margin-top-64 lc-margin-bottom-32 lc-mobile" frameborder=0 style=width:100%;height:212px></iframe></section><section class=share-buttons><h2>認同請分享</h2><ul class=share-buttons><li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dFacebook&quote=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96" title="Share on Facebook" target=_blank><img alt="Share on Facebook" src=/images/flat_web_icon_set/color/Facebook.png></a></li><li><a href="https://twitter.com/intent/tweet?source=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dTwitter&text=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96:%20https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dTwitter" target=_blank title=Tweet><img alt=Tweet src=/images/flat_web_icon_set/color/Twitter.png></a></li><li><a href="http://www.tumblr.com/share?v=3&u=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dTumblr&quote=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96&s=" target=_blank title="Post to Tumblr"><img alt="Post to Tumblr" src=/images/flat_web_icon_set/color/Tumblr.png></a></li><li><a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dPinterest&description=" target=_blank title="Pin it"><img alt="Pin it" src=/images/flat_web_icon_set/color/Pinterest.png></a></li><li><a href="https://getpocket.com/save?url=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dReferral%26utm_source%3dPocket&title=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96" target=_blank title="Add to Pocket"><img alt="Add to Pocket" src=/images/flat_web_icon_set/color/Pocket.png></a></li><li><a href="http://www.reddit.com/submit?url=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dReddit&title=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96" target=_blank title="Submit to Reddit"><img alt="Submit to Reddit" src=/images/flat_web_icon_set/color/Reddit.png></a></li><li><a href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dLinkedin&title=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96&summary=&source=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dLinkedin" target=_blank title="Share on LinkedIn"><img alt="Share on LinkedIn" src=/images/flat_web_icon_set/color/LinkedIn.png></a></li><li><a href="http://wordpress.com/press-this.php?u=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dReferral%26utm_source%3dWordpress&quote=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96&s=" target=_blank title="Publish on WordPress"><img alt="Publish on WordPress" src=/images/flat_web_icon_set/color/Wordpress.png></a></li><li><a href="https://pinboard.in/popup_login/?url=https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dSocial%26utm_source%3dPinboard&title=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96&description=" target=_blank title="Save to Pinboard"><img alt="Save to Pinboard" src=/images/flat_web_icon_set/color/Pinboard.png></a></li><li><a href="mailto:?subject=Python%20%2f%20%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%20python%20%e7%b9%aa%e8%a3%bd%e4%b8%96%e7%95%8c%e5%9c%b0%e5%9c%96&body=:%20https%3a%2f%2fsujingjhong.com%2fposts%2fhow-to-draw-world-map-by-python%2f%3futm_campaign%3dShare%26utm_medium%3dEmail%26utm_source%3dEmail" target=_blank title="Send email"><img alt="Send email" src=/images/flat_web_icon_set/color/Email.png></a></li></ul></section><h2 id=相關文章>相關文章</h2><ul class=related><li><a href=/posts/how-to-show-matplotlib-visual-packages-in-chinese-on-colab/>Python / 如何在 Colab 上讓 python 視覺化套件 matplotlib 顯示中文</a></li></ul><footer class=book-footer><div class="flex flex-wrap justify-between"></div><hr><div id=commento></div><footer><span class=copyright>© 2019-2021 Su Jing Jhong 版權所有
<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank><img alt="創用 CC 授權條款" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/4.0/80x15.png></a></span></footer></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents></nav></aside></main><script defer>for(var links=document.getElementsByTagName("a"),i=0;i<links.length;i++)links[i].hostname!=window.location.hostname&&(links[i].target='_blank')</script></body></html>